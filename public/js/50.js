"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[50],{5050:(t,s,a)=>{a.r(s),a.d(s,{default:()=>i});const e={data:function(){return{isLoading:!0,parts:{},moment,searchText:"",searchMode:!1}},methods:{getAllPartsList:function(){var t=this,s=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;this.isLoading=!0,axios.get("/admin/api/get-all-parts-list?page="+s+"&q="+this.searchText).then((function(t){return t.data})).then((function(s){t.parts=s,t.isLoading=!1})).catch((function(t){console.error(t.response.data)}))},deletePart:function(t,s){var a=this;swal.fire({title:"Are you sure?",text:"This will delete the part data from server",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, delete it!"}).then((function(e){e.isConfirmed&&axios.post("/admin/api/delete-part",{partId:t}).then((function(t){return t.data})).then((function(t){console.log(t),"ok"==t.status&&(swal.fire("Success",t.msg,"success"),a.parts.data.splice(s,1))})).catch((function(t){console.error(t.response.data)}))}))},searchMachine:function(){""!=this.searchText?this.searchMode=!0:this.searchMode=!1,this.getAllPartsList()},cancelSearch:function(){this.searchText="",this.searchMode=!1,this.getAllPartsList()},changeStatus:function(t,s){var a=this;axios.post("/admin/api/update-part-status",{partId:t}).then((function(t){return t.data})).then((function(t){"ok"==t.status&&(swal.fire("Success",t.msg,"success"),a.parts.data[s].status=t.new_status)})).catch((function(t){console.error(t.response.data)}))}},mounted:function(){this.getAllPartsList()}};const i=(0,a(1900).Z)(e,(function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"row"},[a("div",{staticClass:"col-12"},[a("div",{staticClass:"content-header"},[a("div",{staticClass:"container-fluid"},[a("div",{staticClass:"row mb-2"},[t._m(0),t._v(" "),a("div",{staticClass:"col-sm-6"},[a("ol",{staticClass:"breadcrumb float-sm-right"},[a("li",{staticClass:"breadcrumb-item"},[a("router-link",{attrs:{to:{name:"dashboard"}}},[t._v("Home")])],1),t._v(" "),a("li",{staticClass:"breadcrumb-item active"},[t._v("Parts List")])])])])])])]),t._v(" "),a("div",{staticClass:"col-12"},[a("div",{staticClass:"card"},[a("div",{staticClass:"card-body"},[a("div",{staticClass:"row"},[a("form",{staticClass:"col-md-6",on:{submit:function(s){return s.preventDefault(),t.searchMachine()}}},[a("div",{staticClass:"input-group mb-3"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.searchText,expression:"searchText"}],staticClass:"form-control",attrs:{type:"text",placeholder:"Search by tacking number..."},domProps:{value:t.searchText},on:{input:function(s){s.target.composing||(t.searchText=s.target.value)}}}),t._v(" "),t._m(1)]),t._v(" "),t.searchMode?a("div",{staticClass:"form-group"},[a("p",[t._v("\r\n                                Search Result for : Â  "),a("span",{staticClass:"text-primary"},[t._v(t._s(t.searchText))]),t._v(" "),a("button",{staticClass:"btn text-danger",attrs:{type:"button",title:"Cancel Search"},on:{click:t.cancelSearch}},[a("i",{staticClass:"fas fa-times"})])])]):t._e()]),t._v(" "),a("div",{staticClass:"col-md-12 mt-3"},[a("h4",[t._v("List")]),t._v(" "),t.isLoading?a("div",{staticClass:"row"},t._l(10,(function(t){return a("div",{key:t,staticClass:"col-12 mb-2"},[a("skeleton",{attrs:{width:"100%",height:"30px"}})],1)})),0):[a("div",{staticClass:"table-responsive"},[a("table",{staticClass:"table table-striped table-hover table-bordered"},[t._m(2),t._v(" "),a("tbody",[0==t.parts.data.length?[t._m(3)]:t._l(t.parts.data,(function(s,e){return a("tr",{key:e},[a("td",[t._v(t._s(s.name))]),t._v(" "),a("td",[t._v(t._s(s.part_number))]),t._v(" "),a("td",[t._v(t._s(s.vendor))]),t._v(" "),a("td",[t._v(t._s(s.po))]),t._v(" "),a("td",[t._v(t._s(s.track_number))]),t._v(" "),a("td",[a("span",{staticClass:"badge badge-secondary"},[t._v(t._s(s.service_id))])]),t._v(" "),a("td",[a("span",{staticClass:"badge badge-primary"},[t._v(t._s(s.machine.label_number))])]),t._v(" "),a("td",["need_to_order"==s.status?a("span",{staticClass:"badge badge-warning"},[a("i",{staticClass:"fas fa-clock"}),t._v(" Need to order")]):"ordered"==s.status?a("span",{staticClass:"badge badge-pending"},[a("i",{staticClass:"fas fa-check"}),t._v(" Ordered")]):"shipped"==s.status?a("span",{staticClass:"badge badge-shipped"},[a("i",{staticClass:"fas fa-truck"}),t._v(" Shipped")]):"installed"==s.status?a("span",{staticClass:"badge badge-success"},[a("i",{staticClass:"fas fa-check-circle"}),t._v(" Installed")]):t._e()]),t._v(" "),a("td",["need_to_order"==s.status?a("button",{staticClass:"btn btn-sm btn-primary",on:{click:function(a){return t.changeStatus(s.id,e)}}},[t._v("Mark as ordered")]):"ordered"==s.status?a("button",{staticClass:"btn btn-sm btn-secondary",on:{click:function(a){return t.changeStatus(s.id,e)}}},[t._v("Mark as shipped")]):"shipped"==s.status?a("button",{staticClass:"btn btn-sm badge-shipped",on:{click:function(a){return t.changeStatus(s.id,e)}}},[t._v("Mark as installed")]):t._e(),t._v(" "),a("router-link",{staticClass:"btn btn-sm btn-success",attrs:{to:{name:"edit-part",params:{partId:s.id}},title:"Edit"}},[a("i",{staticClass:"fas fa-edit"})]),t._v(" "),a("button",{staticClass:"btn btn-sm btn-danger",attrs:{title:"Delete"},on:{click:function(a){return t.deletePart(s.id,e)}}},[a("i",{staticClass:"fas fa-trash"})])],1)])}))],2)])])]],2)]),t._v(" "),a("div",{staticClass:"d-flex justify-content-center"},[a("pagination",{attrs:{data:t.parts},on:{"pagination-change-page":t.getAllPartsList}})],1)])])])])}),[function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"col-sm-6"},[a("h1",{staticClass:"m-0"},[t._v("All Parts List")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("div",{staticClass:"input-group-append"},[s("button",{staticClass:"btn btn-success",attrs:{type:"submit"}},[s("i",{staticClass:"fas fa-search"})])])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("thead",[a("tr",[a("th",[t._v("Part Name")]),t._v(" "),a("th",[t._v("Part Number")]),t._v(" "),a("th",[t._v("Vendor")]),t._v(" "),a("th",[t._v("PO")]),t._v(" "),a("th",[t._v("Track Number")]),t._v(" "),a("th",[t._v("Service ID")]),t._v(" "),a("th",[t._v("Assigned Machine Label")]),t._v(" "),a("th",[t._v("Status")]),t._v(" "),a("th",[t._v("Action")])])])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("tr",[a("td",{staticClass:"text-center text-danger",attrs:{colspan:"10"}},[t._v("No listed parts was found")])])}],!1,null,null,null).exports}}]);