"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[64],{64:(t,e,n)=>{n.r(e),n.d(e,{default:()=>a});const s={data:function(){return{is_loading:!0,admins:[]}},methods:{getAdminList:function(){var t=this;axios.get("/admin/api/get-admin-list").then((function(t){return t.data})).then((function(e){"ok"==e.status&&(t.admins=e.data,t.is_loading=!1)})).catch((function(t){console.error(t.response.data)}))},getProfileInfo:function(){var t=this;axios.get("/admin/api/get-admin-info").then((function(t){return t.data})).then((function(e){"super"!=e.role?t.$router.push({name:"admin-home"}):t.getAdminList()})).catch((function(t){console.error(t.response.data)}))},deleteAdmin:function(t,e){var n=this;swal.fire({title:"Are you sure?",text:"You won't be able to revert this!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, delete it!"}).then((function(s){s.isConfirmed&&axios.post("/admin/api/delete-admin",{adminId:t}).then((function(t){return t.data})).then((function(t){"ok"==t.status&&(swal.fire({title:"Success",icon:"success",text:t.msg,position:"top-end",showConfirmButton:!1,timer:1e3}),n.admins.splice(e,1))})).catch((function(t){console.error(t.response.data)}))}))}},created:function(){this.getProfileInfo()}};const a=(0,n(1900).Z)(s,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("section",{staticClass:"section pt-5"},[n("div",{staticClass:"row justify-content-center"},[n("div",{staticClass:"col-md-8"},[n("div",{staticClass:"card"},[n("div",{staticClass:"card-header d-flex justify-content-between"},[n("h4",[t._v("Admin List")]),t._v(" "),n("router-link",{staticClass:"btn btn-primary",attrs:{to:{name:"admin-new"}}},[n("i",{staticClass:"fas fa-plus"}),t._v(" Create admin")])],1),t._v(" "),n("div",{staticClass:"card-body"},[t.is_loading?n("div",{staticClass:"row"},t._l(10,(function(t){return n("div",{key:t,staticClass:"col-12"},[n("skeleton",{attrs:{width:"100%",height:"30px"}})],1)})),0):t._e(),t._v(" "),t.is_loading?t._e():n("div",{staticClass:"table-responsive"},[n("table",{staticClass:"table"},[t._m(0),t._v(" "),n("tbody",[0==t.admins.length?[t._m(1)]:t._l(t.admins,(function(e,s){return n("tr",{key:s},[n("td",[e.photo?n("img",{staticClass:"user-round",attrs:{src:"/admin/api/resources/photos/user/"+e.photo,alt:""}}):n("img",{staticClass:"user-round",attrs:{src:"/img/portrait-placeholder.png",alt:""}})]),t._v(" "),n("td",[t._v(t._s(e.name))]),t._v(" "),n("td",[t._v(t._s(e.email))]),t._v(" "),n("td",[t._v(t._s("super"==e.role?"Super Admin":"Tech"))]),t._v(" "),n("td",[n("router-link",{staticClass:"btn btn-success btn-sm",attrs:{to:{name:"admin-edit",params:{adminId:e.id}},title:"Edit"}},[n("i",{staticClass:"fas fa-edit"})]),t._v(" "),n("button",{staticClass:"btn btn-sm btn-danger",on:{click:function(n){return t.deleteAdmin(e.id,s)}}},[n("i",{staticClass:"fas fa-trash"})])],1)])}))],2)])])])])])])])}),[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("thead",[n("tr",[n("th",[t._v("#")]),t._v(" "),n("th",[t._v("Admin Name")]),t._v(" "),n("th",[t._v("Email")]),t._v(" "),n("th",[t._v("Role")]),t._v(" "),n("th",[t._v("Action")])])])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("tr",[n("td",{staticClass:"text-center text-danger",attrs:{colspan:"5"}},[t._v("No admin was created")])])}],!1,null,null,null).exports}}]);